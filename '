import time
import consts
import wiringpi as wpi

class Turntable():
    def __init__(
            self,
            gpio_pin=consts.DEFAULT_TURNTABLE_PIN,
            period=consts.DEFAULT_TURNTABLE_PERIOD,
            photos_per_scan=consts.DEFAULT_PHOTOS_PER_SCAN,
            delay=consts.DEFAULT_DELAY
    ):
        self.period = period
        self.photos_per_scan = photos_per_scan
        self.enable_rotation_duration = self.period / photos_per_scan
        self.delay = delay
        self.gpio_pin = gpio_pin

    def rotate_slice(self):
        print('Rotating table for {} seconds'.format(self.enable_rotation_duration))
        time.sleep(self.enable_rotation_duration)
        print('Delay for {} seconds'.format(self.delay))
        time.sleep(self.delay)
